---
title: 面试准备：水平垂直居中
date: 2020-08-05 17:06:52
tags: [面试, CSS]
---

```html
<div class="container">
  <div class="item"></div>
</div>
```



## 1、水平居中

### 1.1、行内元素

* 缺点：为了居中元素，使文本也居中了，因此可能需要重置文本位置。
* 优点：不需要固定居中元素的宽。

```css
.container {
  text-align: center;
}
.item {
  display: inline-block;
  text-align: left; /* if need initial text position */
}
```

> 该方案的原理是：上面代码中的 `text-align: center;` 会使文本居中，但是对块级元素无效，如果将元素设置为 `inline-block`，该元素就会被当做文本对待，从而实现元素居中。

### 1.2、块级元素

#### 1.2.1、margin

```css
.item {
  margin: 0 auto;
}
```

> 该方案的原理是：元素被设置成块级后，会独占一行，如果其宽度没有占满横向空间，那么剩余的空间就处于待分配状态，此时设置 `margin: auto;` 意味着把剩余的空间分配给 `margin`，并且左右均分，所以就实现了水平居中。

#### 1.2.2、flex

```css
.container {
  display: flex;
  justify-content: center;
}
```

#### 1.2.3、绝对定位

##### 1.2.3.1、transform

```css
.container {
  position: relative;
}
.item {
  position: absolute;
  left: 50%;
	transform: translateX(-50%);
}
```

##### 1.2.3.2、margin-left

```css
.container {
  position: relative;
}
.item {
  position: absolute;
  left: 50%;
  margin-left: -0.5 * 元素item的宽度;
}
```

## 2、垂直居中

### 2.1、行内元素

```css
.container {
  height: 高度;
}
.item {
  line-height: 高度;
}
```

* 单行文本

> 元素的 `height` 和 `line-height` 相同的时候，会使其文本内容垂直居中。因此该方案利用了这一特点，不过文本内容虽然垂直居中了，但是元素并没有，因此再将元素设置为 `inline-block`，这样元素就会被当做文本对待了。同时由于具有了 `inline` 属性，`vertical-align: middle;` 也就可以生效了。

### 2.2、块级元素

#### 2.2.1、flex

```css
.container {
  display: flex;
  align-items: center;
}
```

### 2.2.2、绝对定位

##### 2.2.2.1、transform

```css
.item {
    position: absolute;
    top: 50%;
  	transform: translateY(0, -50%);
}
```

##### 2.2.2.2、margin-top

```css
.container {
  position: relative;
}
.item {
  position: absolute;
  left: 50%;
  margin-top: -0.5 * 元素item的高度;
}
```

## 3、水平垂直居中

### 3.1、Flex

* 优点：不需要固定居中元素的宽高

```css
.container {
  display: flex;
  justify-content: center; /* 水平居中 */
  align-items: center; /* 垂直居中 */
}
```

```css
.container {
  display: flex;
}
.item {
  margin: auto;
}
```

### 3.2、Grid

* 优点：不需要固定居中元素的宽高。
* 缺点：兼容性不如 flex

```css
.container {
  display: grid;
}
.item {
  margin: auto;
}
```

### 3.3、绝对定位

#### 3.3.1、transform

* 优点：不需要固定居中元素的宽高

```css
.container {
  position: relative;
}
.item {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}
```

#### 3.3.2、负 margin

* 缺点：不需要固定居中元素的宽高

```css
.container {
  position: relative;
}
.item {
  position: absolute;
  left: 50%;
  top: 50%;
  margin-left: -0.5 * 宽度;
  margin-top: -0.5 * 高度;
}
```

#### 3.3.3、calc

* 缺点：需要固定居中元素的宽高

```css
.container {
  position: relative;
}
.item {
  position: absolute;
  left: calc(50% - 0.5 * 宽度);
  top: calc(50% - 0.5 * 高度);
}
```

#### 3.3.4、margin: auto

```css
.container {
  position: relative;
}
.item {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  margin: auto;
}
```

> 该方案的原理是：使用了 CSS 中的定位属性（`absolute`、`fixed` 等）后，如果 `left` 设置了具体值，没有设置 `right` 和 `width`，那么就会自动计算，把剩余的空间分配给 `right` 和 `width`。如果 `left`、`right` 和 `width` 都设置了具体值，并且没有占满横向空间，那么剩余空间就处于待分配状态，此时设置 `margin: auto;` 意味着把剩余的空间分配给 `margin`，并且左右均分，所以就实现了水平居中，垂直方向同理。
>
> 但是要知道该方法的副作用：
>
> - `left: 0; right: 0;` 相当于 `width: 100%;`
> - `top: 0; bottom: 0;` 相当于 `height: 100%;`
>
> 缺点：需要固定居中元素的宽高，否则其宽高会被设为 `100%`（副作用）。

## reference

* [一起搞懂 CSS 水平居中与垂直居中的16个方法](https://juejin.im/post/6844903799446831117#heading-13)
* [CSS 拷问：水平垂直居中方法你会几种？](https://liuyib.github.io/2020/04/07/css-h-and-v-center/)







