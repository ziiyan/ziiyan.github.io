---
title: 面试准备：防抖 & 节流
date: 2020-03-28 21:55:35
tags: [ JavaScript, 面试 ]
---

https://www.cnblogs.com/Antwan-Dmy/p/10714445.html

## 1、防抖 debounce

* 防止抖动，避免把一次事件误认为多次
* 场景
	* 连续点击按钮导致发送多次相同请求
	* 调整浏览器窗口大小，监听事件
	* 实时文本编辑器，无更改一秒后再保存
* **防抖重在清零 `clearTimeout(timer)`**

```js
function debounce(fn, ms) {
  let timer = null;
  return (...args) => {
    clearTimeout(timer);
    timer = setTimeout(() => {
      fn(...args);
    }, ms);
  }
}
```

## 2、节流 throttle

* 节省水流，控制事件发生的频率，限制流量
* 场景
	* scroll 事件，每隔一秒计算一次位置
	* 浏览器播放事件，每隔一秒一算一次进度
	* input 框实时搜索，每隔一秒发送一次请求（也可以防抖，看需求）
* **节流重在加锁 `timer=timeout`**

```js
function throttle(fn, ms) {
  let timer = null;
  return (...args) => {
    if (timer) { return }
    timer = setTimeout(() => {
      f(...args)
      timer = null;
    }, ms)
  }
}
```



## reference

* [2019 面试准备 - JS 防抖与节流 (超级 重要!!!!!)](https://www.cnblogs.com/Antwan-Dmy/p/10714445.html)

* [【滴滴】什么是防抖和节流，他们的应用场景有哪些](https://mp.weixin.qq.com/s/ckDxGqXn5rhus_JnwjtQFA)

