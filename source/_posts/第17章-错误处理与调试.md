---
title: 第十七章 错误处理与调试
date: 2020-03-10 00:10:00
tags: JavaScript高级程序设计

---



## 错误处理

### try-catch 语句

```js
try {
  // 可能会导致错误的代码
} catch(error) {
  // 在错误发生时怎么处理
  console.log(error.message)
  // 所有浏览器都支持 message 属性
}
```

* finally 子句
	* 无论 try 或 catch，都会执行 finally
	* 如果 try 或 catch 中有 return，会被忽略
		* 因为一定要执行 finally
* 错误类型
	* Error
		* 基类型，其它都继承这个
		* 主要用于自定义
	* EvalError
		* 没有把 eval() 当成函数调用，抛出异常
			* eval() 函数在第五章
	* RangeError
		* 数值超出响应范围
	* ReferenceError
		* 找不到对象
	* SyntaxError
		* 传入语法错误的 JavaScript 给 eval()
	* TypeError
		* 变量中保存着意外的类型
		* 访问不存在的方法
		* 执行特定于类型的操作时，变量类型不符合要求
	* URIError
		* encodeURI()、decodeURI() 时 URI 格式不正确

### 抛出错误

`throw` 操作符

> 捕获错误的目的在于避免浏览器以默认方式处理它们
>
> 抛出错误的目的在于提供错误发生具体原因的消息



### 错误（error）事件

没有通过 try-catch 处理的错误会触发 window 对象的 error 事件



### 常见的错误类型

* 类型转换错误
	* `===`  `!==`
	* `if` `for` `while`
* 数据类型错误
	* `typeof`
	* `instanceof`
* 通信错误
	* `encodeURIComponent()`



## 调试技术

* `error(message)`
* `info(message)`
* `log(message)`
* `warn(message)`



### 抛出错误

* `throw`
* `assert(条件, 如果条件不为 true 抛出的错误)` 可以代替 if 语句

























