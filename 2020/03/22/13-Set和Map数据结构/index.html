<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        13.Set和Map数据结构 - undefined
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 4.2.0"></head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> life kicks in right now </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar ">
            <img src="/img/avatar.jpg" />
        </div>
        <div class="name">
            <i>ziiyan</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>搜索</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Set-和-Map-数据结构"><span class="toc-text">Set 和 Map 数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Set"><span class="toc-text">Set</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本用法"><span class="toc-text">基本用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Set-实例的属性和方法"><span class="toc-text">Set 实例的属性和方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WeakSet"><span class="toc-text">WeakSet</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map"><span class="toc-text">Map</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#基本用法-1"><span class="toc-text">基本用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实例的属性和操作方法"><span class="toc-text">实例的属性和操作方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#与其他数据结构的互相转换"><span class="toc-text">与其他数据结构的互相转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WeakMap"><span class="toc-text">WeakMap</span></a></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> life kicks in right now </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        13.Set和Map数据结构
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2020-03-22 13:34:01</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#ESCMAScript 6 入门" title="ESCMAScript 6 入门">ESCMAScript 6 入门</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <h1 id="Set-和-Map-数据结构"><a href="#Set-和-Map-数据结构" class="headerlink" title="Set 和 Map 数据结构"></a>Set 和 Map 数据结构</h1><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><ul>
<li>类似于数组，但成员的值都是唯一的<ul>
<li>不会发生类型转换，所以 5 和 “5” 不同</li>
<li>两个 NaN 是相等的，这和 <code>===</code> 不同</li>
<li>两个对象总是不想等</li>
</ul>
</li>
<li><code>Set</code> 构造函数可以接受一个数组（或具有 iterable 接口的其他数据结构）作为参数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>].forEach(<span class="function"><span class="params">x</span> =&gt;</span> s.add(x));</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="keyword">const</span> s = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> s) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 2 3 5 4</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Array.from 可以将 Set 结构转为数组</p>
</blockquote>
<h3 id="Set-实例的属性和方法"><a href="#Set-实例的属性和方法" class="headerlink" title="Set 实例的属性和方法"></a>Set 实例的属性和方法</h3><ul>
<li><p>属性</p>
<ul>
<li><code>Set.prototype.constructor</code> 构造函数</li>
<li><code>Set.prototype.size</code> 返回 <code>Set</code> 实例的成员总数</li>
</ul>
</li>
<li><p>方法</p>
<ul>
<li><p>操作方法</p>
<ul>
<li><code>Set.prototype.add(value)</code> 添加某个值，返回 Set 结构本身</li>
<li><code>Set.prototype.delete(value)</code> 删除某个值，返回布尔表示是否成功</li>
<li><code>Set.prototype.has(value)</code> 返回布尔值，表示是否为 <code>Set</code> 成员</li>
<li><code>Set.prototype.clear(value)</code>清空，没有返回值</li>
</ul>
</li>
<li><p>遍历方法</p>
<ul>
<li><p><code>Set.prototype.keys()</code> 返回键名，遍历器对象</p>
</li>
<li><p><code>Set.prototype.values()</code> 返回键值，遍历器对象</p>
<blockquote>
<p>Set 结构没有键名，只有键值（或者说键名键值都是同一个值），所以 keys 方法和 values 方法一样</p>
</blockquote>
</li>
<li><p><code>Set.prototype.entries()</code> 返回键值对，遍历器对象</p>
</li>
<li><p><code>Set.prototype.forEach()</code> 使用回调函数遍历每个成员</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h2><ul>
<li>类似 Set</li>
<li>成员只能是对象<ul>
<li>弱引用，垃圾回收机制不考虑 WeakSet 的引用，可能会随时被清空</li>
</ul>
</li>
<li>不可遍历</li>
</ul>
<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><h3 id="基本用法-1"><a href="#基本用法-1" class="headerlink" title="基本用法"></a>基本用法</h3><ul>
<li>类似于对象，是键值对的集合</li>
<li>对象的键只能是字符串，Map 的键不限制类型</li>
<li><code>Map</code> 构造函数可接受数组，数组成员表示一个键值对（任何具有 Iterator 接口，且每个成员都是一个双元素的数组的数据结构，例如 Set 和 Map）</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="string">'name'</span>, <span class="string">'zhangsan'</span>],</span><br><span class="line">  [<span class="string">'title'</span>, <span class="string">'Author'</span>]</span><br><span class="line">])</span><br><span class="line"><span class="comment">// 实际上执行</span></span><br><span class="line"><span class="keyword">const</span> items = [</span><br><span class="line">  [<span class="string">'name'</span>, <span class="string">'zhangsan'</span>],</span><br><span class="line">  [<span class="string">'title'</span>, <span class="string">'Author'</span>]</span><br><span class="line">]</span><br><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">items.forEach(</span><br><span class="line">	([key, value]) =&gt; map.set(key, value)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<ul>
<li>多次赋值一个键，会覆盖</li>
<li>读取一个未知的键，返回 <code>undefined</code></li>
<li>对于对象，地址相同 Map 结构才视为同一个键</li>
<li>对于简单类型，值严格相等 <code>===</code> 就是一个键</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map.set([<span class="string">'a'</span>], <span class="number">555</span>);</span><br><span class="line">map.get([<span class="string">'a'</span>]) <span class="comment">//	undefined</span></span><br><span class="line"><span class="comment">// ['a'] 是实例，这里两个实例 ['a'] 内存地址不同</span></span><br></pre></td></tr></table></figure>

<h3 id="实例的属性和操作方法"><a href="#实例的属性和操作方法" class="headerlink" title="实例的属性和操作方法"></a>实例的属性和操作方法</h3><ul>
<li>属性<ul>
<li><code>size</code></li>
</ul>
</li>
<li>方法<ul>
<li>操作方法<ul>
<li><code>Map.prototype.set(key, value)</code><ul>
<li>返回当前 <code>Map</code> 对象，可以采用链式写法</li>
</ul>
</li>
<li><code>Map.prototype.get(key)</code></li>
<li><code>Map.prototype.has(key)</code></li>
<li><code>Map.prototype.delete(key)</code></li>
<li><code>Map.prototype.clear(key)</code></li>
</ul>
</li>
<li>遍历方法<ul>
<li><code>Map.prototype.keys()</code></li>
<li><code>Map.prototype.values()</code></li>
<li><code>Map.prototype.entries()</code></li>
<li><code>Map.prototype.forEach()</code></li>
</ul>
</li>
</ul>
</li>
<li>Map 本身没有 <code>map</code> 和 <code>filter</code> 方法，需要结合数组</li>
</ul>
<h3 id="与其他数据结构的互相转换"><a href="#与其他数据结构的互相转换" class="headerlink" title="与其他数据结构的互相转换"></a>与其他数据结构的互相转换</h3><ul>
<li><p>Map -&gt; 数组</p>
<ul>
<li><code>[...map]</code></li>
</ul>
</li>
<li><p>数组 -&gt; Map</p>
<ul>
<li><code>new Map(array)</code></li>
</ul>
</li>
<li><p>Map -&gt; 对象</p>
</li>
<li><p>对象 -&gt; Map</p>
</li>
<li><p>Map -&gt; JSON</p>
</li>
<li><p>JSON -&gt; Map</p>
</li>
</ul>
<h2 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h2><ul>
<li>类似 Map</li>
<li>键名只能对象（除了 null）</li>
<li>指向的对象不计入垃圾回收机制</li>
</ul>

        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        

        

    </ul>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud" target="_blank" rel="noopener">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.xml"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
