<!DOCTYPE html>
<html>
  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
  <title>life kicks in right now</title>
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>
  <body>
    <div class="container">
      <header class="header">
  <div class="blog-title">
    <a href="/" class="logo">life kicks in right now</a>
  </div>
  <nav class="navbar">
    <ul class="menu">
      
        <li class="menu-item">
          <a href="/" class="menu-item-link">Home</a>
        </li>
      
        <li class="menu-item">
          <a href="/archives" class="menu-item-link">Archives</a>
        </li>
      
        <li class="menu-item">
          <a href="https://github.com/ziiyan" target="_blank" rel="noopener" class="menu-item-link">Github</a>
        </li>
      
    </ul>
  </nav>
</header>
      <main class="main">
        <article class="post">
  <div class="post-title">
    <h2 class="title">第十四章 表单脚本</h2>
  </div>
   <div class="post-meta">
    <span class="post-time">2020-03-07</span>
  </div>
  <div class="post-content">
    <h1 id="第十四章-表单脚本"><a href="#第十四章-表单脚本" class="headerlink" title="第十四章 表单脚本"></a>第十四章 表单脚本</h1><h2 id="表单的基本知识"><a href="#表单的基本知识" class="headerlink" title="表单的基本知识"></a>表单的基本知识</h2><p>HTML 中，<code>&lt;form&gt;</code> 元素</p>
<p>Javascript 中，<code>HTMLFormElement</code>类型，继承 <code>HTMLElement</code></p>
<ul>
<li><code>acceptCharset</code> 服务器能够处理的字符集 <code>accept-charset</code></li>
<li><code>action</code> 接受请求的 URL <code>action</code></li>
<li><code>elements</code> 表单中所有控件集合 <code>HTMLCollection</code></li>
<li><code>enctype</code> 请求的编码类型 <code>enctype</code></li>
<li><code>length</code> 表单中控件的数量</li>
<li><code>method</code> 要发送的HTTP请求类型 get/post <code>method</code></li>
<li><code>name</code> 表单名称 <code>name</code></li>
<li><code>reset()</code> 将所有表单域重置为默认值</li>
<li><code>submit()</code> 提交表单</li>
<li><code>target</code> 用于发送和接受响应窗口的名称 <code>target</code></li>
</ul>
<h3 id="提交表单"><a href="#提交表单" class="headerlink" title="提交表单"></a>提交表单</h3><ul>
<li><p><code>&lt;input&gt;</code> 和 <code>&lt;button&gt;</code> 都可以定义提交按钮，<code>type = submit</code> 即可</p>
</li>
<li><p>提交表单时，浏览器将请求发送给服务器之前触发 submit 事件，这样就有机会验证表单数据。</p>
</li>
<li><p>提交表单最大的问题是重复提交表单</p>
<ul>
<li>第一次提交后禁用按钮</li>
<li>利用 onsubmit 事件处理程序 取消后续的表单提交操作</li>
</ul>
</li>
</ul>
<h3 id="重置表单"><a href="#重置表单" class="headerlink" title="重置表单"></a>重置表单</h3><ul>
<li><code>&lt;input&gt;</code> 或 <code>&lt;button&gt;</code> 中 <code>type = reset</code>，单击即可重置</li>
</ul>
<h3 id="表单字段"><a href="#表单字段" class="headerlink" title="表单字段"></a>表单字段</h3><p>每个表单都有 <code>elements</code> 属性，内容是所有表单元素的集合。集合是一个有序列表，包含表单中所有字段。</p>
<ul>
<li>共有的表单字段属性<ul>
<li><code>disabled</code></li>
<li><code>form</code></li>
<li><code>name</code></li>
<li><code>readOnly</code></li>
<li><code>tabIndex</code></li>
<li><code>type</code></li>
<li><code>value</code></li>
</ul>
</li>
<li>共有的表单字段方法<ul>
<li><code>focus()</code></li>
<li><code>blur()</code></li>
<li><code>autofocus</code> 页面加载时自动获得焦点</li>
</ul>
</li>
<li>共有的表单字段事件<ul>
<li><code>blur</code></li>
<li><code>change</code></li>
<li><code>focus</code><ul>
<li><code>blur</code> 和 <code>change</code> 先后顺序在各浏览器中不同</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="文本框脚本"><a href="#文本框脚本" class="headerlink" title="文本框脚本"></a>文本框脚本</h2><p><code>&lt;input&gt;</code>、<code>&lt;textarea&gt;</code></p>
<p>处理文本框时最好不要使用 DOM 方法（<code>setAttribute</code>）</p>
<h3 id="选择文本"><a href="#选择文本" class="headerlink" title="选择文本"></a>选择文本</h3><p><code>select()</code> 方法获得焦点时选择其所有文本</p>
<ul>
<li>选择事件</li>
<li>取得选择的文本<ul>
<li><code>selectionStart</code> 数值，开头位置</li>
<li><code>selectionEnd</code> 数值，结尾位置</li>
</ul>
</li>
<li>选择部分文本<ul>
<li><code>setSelectionRange()</code></li>
</ul>
</li>
</ul>
<h3 id="过滤输入"><a href="#过滤输入" class="headerlink" title="过滤输入"></a>过滤输入</h3><ul>
<li><p>屏蔽字符</p>
</li>
<li><p>操作剪贴板</p>
<ul>
<li><p>剪贴板事件</p>
<ul>
<li><code>beforecopy</code></li>
<li><code>copy</code></li>
<li><code>beforecut</code></li>
<li><code>cut</code></li>
<li><code>beforepaste</code></li>
<li><code>paste</code></li>
</ul>
</li>
<li><p>clipboardData 对象</p>
<ul>
<li><code>getData()</code></li>
<li><code>setData()</code></li>
<li><code>clearData()</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="自动切换焦点"><a href="#自动切换焦点" class="headerlink" title="自动切换焦点"></a>自动切换焦点</h3><p><code>tabForward()</code></p>
<h3 id="HTML5-约束验证-API"><a href="#HTML5-约束验证-API" class="headerlink" title="HTML5 约束验证 API"></a>HTML5 约束验证 API</h3><ul>
<li>必填字段 <code>required</code> 属性</li>
<li>其它输入类型<ul>
<li><code>email</code></li>
<li><code>url</code></li>
</ul>
</li>
<li>数值范围<ul>
<li><code>min</code></li>
<li><code>max</code></li>
</ul>
</li>
<li>输入模式 <code>pattern</code></li>
<li>检测有效性<ul>
<li><code>checkValidity()</code></li>
<li><code>validity</code></li>
</ul>
</li>
<li>禁用验证 <code>novalidate</code></li>
</ul>
<h2 id="选择框脚本"><a href="#选择框脚本" class="headerlink" title="选择框脚本"></a>选择框脚本</h2><p><code>&lt;select&gt;</code>、<code>&lt;option&gt;</code></p>
<ul>
<li><code>add(newOption, relOption)</code></li>
<li><code>multiple</code></li>
<li><code>options</code> 控件中所有 <code>&lt;option&gt;</code> 元素的 <code>HTMLCollection</code>，每个元素都是  <code>HTMLOptionElement</code> 对象<ul>
<li><code>index</code></li>
<li><code>label</code></li>
<li><code>selected</code></li>
<li><code>text</code></li>
<li><code>value</code></li>
</ul>
</li>
<li><code>remove(index)</code></li>
<li><code>selectedIndex</code></li>
<li><code>size</code></li>
</ul>
<h2 id="表单序列化"><a href="#表单序列化" class="headerlink" title="表单序列化"></a>表单序列化</h2><blockquote>
<p> 表单提交期间，浏览器怎样将数据发送给服务器？</p>
<ul>
<li><p>对表单字段的名称和值进行 URL 编码，使用 &amp; 分隔</p>
</li>
<li><p>不发送禁用的表单字段</p>
</li>
<li><p>只发送勾选的复选框和单选按钮</p>
</li>
<li><p>不发送 type 为 reset 和 button 的按钮</p>
</li>
<li><p>多选选择框中的每个选中的值单独一个条目</p>
</li>
<li><p>在单击提交按钮提交表单的情况下，也会发送提交按钮；否则，不发送提交按钮。</p>
</li>
<li><p>&lt;select&gt; 元素的值，就是选中的 &lt;option&gt; 元素的 value 特性的值</p>
</li>
</ul>
</blockquote>
<h2 id="富文本编辑"><a href="#富文本编辑" class="headerlink" title="富文本编辑"></a>富文本编辑</h2><p>WYSIWYG（What You See Is What You Get）</p>
<p>在页面中嵌入一个包含空 HTML 页面的 iframe</p>
<p>通过设置 designMode 属性，可以编辑，编辑的对象是该页面 body 元素的 HTML 代码</p>

  </div>
</article>
      </main>
    </div>
  </body>
</html>